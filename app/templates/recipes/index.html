{% extends "layout.html" %}

{% block body %}
<h1>Recipes</h1>
<a class="btn btn-success" href="{{ url_for('create_recipe_form') }}">
    Add recipe
</a>
<div class="d-flex flex-wrap">
    {% for recipe in recipes %}
    <div class="card m-1 recipe-card">
        <div class="card-body d-flex flex-column">
            <h5 class="card-title limit-lines _2">
                {{ recipe.name }}
            </h5>
            <p class="card-text limit-lines _5">
                {{ recipe.description }}
            </p>
            <div class="d-flex justify-content-end mt-auto">
                <a class="btn btn-primary mr-2"
                    href="{{ url_for('get_recipe', recipe_id=recipe.id) }}">
                    Details
                </a>
                <button class="btn btn-danger" form="delete-recipe-form"
                    type="submit"
                    formaction="{{ url_for('delete_recipe', recipe_id=recipe.id) }}">
                    Delete
                </button>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
<form id="delete-recipe-form" method="POST"></form>
<style>
    .recipe-card {
        width: 18rem;
    }

    .limit-lines {
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
    }

    .limit-lines._2 {
        -webkit-line-clamp: 2;
    }

    .limit-lines._5 {
        -webkit-line-clamp: 5;
    }
</style>
{% endblock %}
